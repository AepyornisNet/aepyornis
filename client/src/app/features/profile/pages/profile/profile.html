<div class="container my-5">
  @if (store.error()) {
    <div class="alert alert-danger" role="alert">
      {{ store.error() }}
    </div>
  }

  @if (store.successMessage()) {
    <div class="alert alert-success" role="alert">
      {{ store.successMessage() }}
    </div>
  }

  @if (store.loading()) {
    <div class="text-center py-5">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">{{ 'Loading' | translate }}</span>
      </div>
    </div>
  } @else {
    <div class="row g-4">
      <div class="col-lg-8 order-2 order-lg-1">
        <router-outlet />
      </div>

      <div class="col-lg-4 order-1 order-lg-2">
        <div class="card shadow-sm profile-nav-card">
          <div class="card-header">
            <h2 class="h6 mb-0 text-uppercase">{{ 'Profile navigation' | translate }}</h2>
          </div>
          <div class="list-group list-group-flush">
            @for (item of navigationItems; track item.route) {
              <a
                class="list-group-item list-group-item-action d-flex align-items-center justify-content-between"
                routerLinkActive="active"
                [routerLink]="item.route"
              >
                <span>{{ item.label | translate }}</span>
                @if (item.route === '/profile/followers') {
                  <span class="badge text-bg-primary rounded-pill">{{ store.followRequests().length }}</span>
                }
              </a>
            }
          </div>
        </div>
      </div>
    </div>
  }
</div>
