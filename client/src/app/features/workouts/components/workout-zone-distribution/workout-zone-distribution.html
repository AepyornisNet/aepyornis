<div class="zone-distribution">
  @if (!hasData()) {
    <p class="text-muted mb-0">{{ 'No zone data available' | translate }}</p>
  } @else {
    <div aria-hidden="true" class="zone-bar">
      @for (segment of distribution(); track segment.zone) {
        @if (segment.percent > 0) {
          <span
            class="zone-bar__segment"
            [style.backgroundColor]="segment.color"
            [style.width.%]="segment.percent"
          ></span>
        }
      }
    </div>

    <div class="zone-rows mt-3">
      @for (segment of distribution(); track segment.zone) {
        <div class="zone-row">
          <div class="zone-row__label">
            <span class="zone-dot" [style.backgroundColor]="segment.color"></span>
            <div class="zone-row__label-text">
              <span class="fw-semibold">
                {{ 'Zone {{value}}' | translate: { value: segment.zone } }}
              </span>
              @if (formatRange(segment); as rangeLabel) {
                <small class="zone-range text-muted">{{ rangeLabel }}</small>
              }
            </div>
          </div>
          <div class="zone-row__values">
            <span class="zone-time">{{ formatDuration(segment.seconds) }}</span>
            <small class="text-muted">{{ formatPercent(segment.percent) }}</small>
          </div>
        </div>
      }
    </div>
  }
</div>
