basePath: /api/v2
definitions:
  api.AppInfoResponse:
    properties:
      registration_disabled:
        type: boolean
      socials_disabled:
        type: boolean
      version:
        type: string
      version_sha:
        type: string
    type: object
  api.CalendarEventResponse:
    properties:
      end:
        type: string
      start:
        type: string
      title:
        type: string
      url:
        type: string
    type: object
  api.ClimbSegmentResponse:
    properties:
      avg_slope:
        type: number
      category:
        type: string
      duration:
        type: number
      elevation:
        type: number
      end_index:
        type: integer
      index:
        type: integer
      length:
        type: number
      start_distance:
        type: number
      start_index:
        type: integer
      type:
        type: string
    type: object
  api.EquipmentResponse:
    properties:
      active:
        type: boolean
      created_at:
        type: string
      default_for:
        items:
          type: string
        type: array
      description:
        type: string
      id:
        type: integer
      name:
        type: string
      notes:
        type: string
      updated_at:
        type: string
      user_id:
        type: integer
    type: object
  api.MapCenterResponse:
    properties:
      lat:
        type: number
      lng:
        type: number
      tz:
        type: string
    type: object
  api.MapDataDetailsResponse:
    properties:
      distance:
        description: in km
        items:
          type: number
        type: array
      duration:
        description: in seconds
        items:
          type: number
        type: array
      elevation:
        items:
          type: number
        type: array
      extra_metrics:
        additionalProperties:
          items: {}
          type: array
        description: Additional metrics like heart-rate, cadence, temperature
        type: object
      position:
        description: '[[lat, lng], ...]'
        items:
          items:
            format: float64
            type: number
          type: array
        type: array
      slope:
        items:
          type: number
        type: array
      speed:
        description: in m/s
        items:
          type: number
        type: array
      time:
        items:
          type: string
        type: array
      zone_ranges:
        additionalProperties:
          items:
            $ref: '#/definitions/api.ZoneRangeResponse'
          type: array
        type: object
    type: object
  api.MapDataResponse:
    properties:
      center:
        $ref: '#/definitions/api.MapCenterResponse'
      creator:
        type: string
      details:
        $ref: '#/definitions/api.MapDataDetailsResponse'
      extra_metrics:
        items:
          type: string
        type: array
    type: object
  api.MapPoint:
    properties:
      elevation:
        type: number
      lat:
        type: number
      lng:
        type: number
      total_distance:
        type: number
    type: object
  api.MeasurementResponse:
    properties:
      created_at:
        type: string
      date:
        type: string
      ftp:
        type: number
      height:
        type: number
      id:
        type: integer
      max_heart_rate:
        type: number
      resting_heart_rate:
        type: number
      steps:
        type: integer
      updated_at:
        type: string
      user_id:
        type: integer
      weight:
        type: number
    type: object
  api.PaginatedResponse-api_EquipmentResponse:
    properties:
      errors:
        items:
          type: string
        type: array
      page:
        type: integer
      per_page:
        type: integer
      results:
        items:
          $ref: '#/definitions/api.EquipmentResponse'
        type: array
      total_count:
        type: integer
      total_pages:
        type: integer
    type: object
  api.PaginatedResponse-api_MeasurementResponse:
    properties:
      errors:
        items:
          type: string
        type: array
      page:
        type: integer
      per_page:
        type: integer
      results:
        items:
          $ref: '#/definitions/api.MeasurementResponse'
        type: array
      total_count:
        type: integer
      total_pages:
        type: integer
    type: object
  api.PaginatedResponse-api_RouteSegmentResponse:
    properties:
      errors:
        items:
          type: string
        type: array
      page:
        type: integer
      per_page:
        type: integer
      results:
        items:
          $ref: '#/definitions/api.RouteSegmentResponse'
        type: array
      total_count:
        type: integer
      total_pages:
        type: integer
    type: object
  api.PaginatedResponse-api_WorkoutResponse:
    properties:
      errors:
        items:
          type: string
        type: array
      page:
        type: integer
      per_page:
        type: integer
      results:
        items:
          $ref: '#/definitions/api.WorkoutResponse'
        type: array
      total_count:
        type: integer
      total_pages:
        type: integer
    type: object
  api.ProfileSettings:
    properties:
      api_active:
        type: boolean
      api_key:
        type: string
      auto_import_directory:
        type: string
      language:
        type: string
      prefer_full_date:
        type: boolean
      preferred_units:
        $ref: '#/definitions/database.UserPreferredUnits'
      socials_disabled:
        type: boolean
      theme:
        type: string
      timezone:
        type: string
      totals_show:
        type: string
    type: object
  api.RecordResponse:
    properties:
      date:
        type: string
      value:
        type: number
      workout_id:
        type: integer
    type: object
  api.Response-any:
    properties:
      errors:
        items:
          type: string
        type: array
      results: {}
    type: object
  api.Response-api_AppInfoResponse:
    properties:
      errors:
        items:
          type: string
        type: array
      results:
        $ref: '#/definitions/api.AppInfoResponse'
    type: object
  api.Response-api_EquipmentResponse:
    properties:
      errors:
        items:
          type: string
        type: array
      results:
        $ref: '#/definitions/api.EquipmentResponse'
    type: object
  api.Response-api_MeasurementResponse:
    properties:
      errors:
        items:
          type: string
        type: array
      results:
        $ref: '#/definitions/api.MeasurementResponse'
    type: object
  api.Response-api_RouteSegmentDetailResponse:
    properties:
      errors:
        items:
          type: string
        type: array
      results:
        $ref: '#/definitions/api.RouteSegmentDetailResponse'
    type: object
  api.Response-api_RouteSegmentsDetailResponse:
    properties:
      errors:
        items:
          type: string
        type: array
      results:
        items:
          $ref: '#/definitions/api.RouteSegmentResponse'
        type: array
    type: object
  api.Response-api_StatisticsResponse:
    properties:
      errors:
        items:
          type: string
        type: array
      results:
        $ref: '#/definitions/api.StatisticsResponse'
    type: object
  api.Response-api_TotalsResponse:
    properties:
      errors:
        items:
          type: string
        type: array
      results:
        $ref: '#/definitions/api.TotalsResponse'
    type: object
  api.Response-api_UserProfileResponse:
    properties:
      errors:
        items:
          type: string
        type: array
      results:
        $ref: '#/definitions/api.UserProfileResponse'
    type: object
  api.Response-api_WorkoutBreakdownResponse:
    properties:
      errors:
        items:
          type: string
        type: array
      results:
        $ref: '#/definitions/api.WorkoutBreakdownResponse'
    type: object
  api.Response-api_WorkoutDetailResponse:
    properties:
      errors:
        items:
          type: string
        type: array
      results:
        $ref: '#/definitions/api.WorkoutDetailResponse'
    type: object
  api.Response-api_WorkoutRangeStatsResponse:
    properties:
      errors:
        items:
          type: string
        type: array
      results:
        $ref: '#/definitions/api.WorkoutRangeStatsResponse'
    type: object
  api.Response-api_WorkoutResponse:
    properties:
      errors:
        items:
          type: string
        type: array
      results:
        $ref: '#/definitions/api.WorkoutResponse'
    type: object
  api.Response-array_api_CalendarEventResponse:
    properties:
      errors:
        items:
          type: string
        type: array
      results:
        items:
          $ref: '#/definitions/api.CalendarEventResponse'
        type: array
    type: object
  api.Response-array_api_UserProfileResponse:
    properties:
      errors:
        items:
          type: string
        type: array
      results:
        items:
          $ref: '#/definitions/api.UserProfileResponse'
        type: array
    type: object
  api.Response-array_api_WorkoutRecordResponse:
    properties:
      errors:
        items:
          type: string
        type: array
      results:
        items:
          $ref: '#/definitions/api.WorkoutRecordResponse'
        type: array
    type: object
  api.Response-array_api_WorkoutResponse:
    properties:
      errors:
        items:
          type: string
        type: array
      results:
        items:
          $ref: '#/definitions/api.WorkoutResponse'
        type: array
    type: object
  api.Response-array_string:
    properties:
      errors:
        items:
          type: string
        type: array
      results:
        items:
          type: string
        type: array
    type: object
  api.Response-geojson_FeatureCollection:
    properties:
      errors:
        items:
          type: string
        type: array
      results:
        $ref: '#/definitions/geojson.FeatureCollection'
    type: object
  api.Response-map_string_string:
    properties:
      errors:
        items:
          type: string
        type: array
      results:
        $ref: '#/definitions/map_string_string'
    type: object
  api.RouteSegmentDetailResponse:
    properties:
      address_string:
        type: string
      bidirectional:
        type: boolean
      center:
        properties:
          lat:
            type: number
          lng:
            type: number
        type: object
      circular:
        type: boolean
      created_at:
        type: string
      filename:
        type: string
      id:
        type: integer
      match_count:
        type: integer
      matches:
        items:
          $ref: '#/definitions/api.RouteSegmentMatch'
        type: array
      max_elevation:
        type: number
      min_elevation:
        type: number
      name:
        type: string
      notes:
        type: string
      points:
        items:
          $ref: '#/definitions/api.MapPoint'
        type: array
      total_distance:
        type: number
      total_down:
        type: number
      total_up:
        type: number
      updated_at:
        type: string
    type: object
  api.RouteSegmentMatch:
    properties:
      average_speed:
        type: number
      distance:
        type: number
      duration:
        type: integer
      user_id:
        type: integer
      user_name:
        type: string
      workout_id:
        type: integer
      workout_name:
        type: string
    type: object
  api.RouteSegmentMatchResponse:
    properties:
      distance:
        type: number
      duration:
        type: number
      end_index:
        type: integer
      route_segment:
        $ref: '#/definitions/api.RouteSegmentResponse'
      route_segment_id:
        type: integer
      start_index:
        type: integer
      workout_id:
        type: integer
    type: object
  api.RouteSegmentResponse:
    properties:
      bidirectional:
        type: boolean
      circular:
        type: boolean
      created_at:
        type: string
      filename:
        type: string
      id:
        type: integer
      match_count:
        type: integer
      max_elevation:
        type: number
      min_elevation:
        type: number
      name:
        type: string
      notes:
        type: string
      total_distance:
        type: number
      total_down:
        type: number
      total_up:
        type: number
      updated_at:
        type: string
    type: object
  api.StatisticBuckets:
    properties:
      buckets:
        additionalProperties:
          $ref: '#/definitions/api.StatisticData'
        type: object
      local_workout_type:
        type: string
      workout_type:
        type: string
    type: object
  api.StatisticData:
    properties:
      average_speed:
        type: number
      average_speed_no_pause:
        type: number
      bucket:
        type: string
      distance:
        type: number
      duration:
        type: number
      duration_seconds:
        type: number
      max_speed:
        type: number
      workouts:
        type: integer
    type: object
  api.StatisticsResponse:
    properties:
      bucket_format:
        type: string
      buckets:
        additionalProperties:
          $ref: '#/definitions/api.StatisticBuckets'
        type: object
      user_id:
        type: integer
    type: object
  api.TotalsResponse:
    properties:
      distance:
        type: number
      down:
        type: number
      duration:
        description: Duration in seconds
        type: integer
      up:
        type: number
      workouts:
        type: integer
    type: object
  api.UserProfileResponse:
    properties:
      active:
        type: boolean
      admin:
        type: boolean
      birthdate:
        type: string
      created_at:
        type: string
      id:
        type: integer
      language:
        type: string
      last_version:
        type: string
      name:
        type: string
      prefer_full_date:
        type: boolean
      preferred_units:
        $ref: '#/definitions/database.UserPreferredUnits'
      profile:
        $ref: '#/definitions/api.ProfileSettings'
      socials_disabled:
        type: boolean
      theme:
        type: string
      timezone:
        type: string
      updated_at:
        type: string
      username:
        type: string
    type: object
  api.WorkoutBreakdownItemResponse:
    properties:
      average_cadence:
        type: number
      average_heart_rate:
        type: number
      average_pace:
        description: seconds per preferred unit
        type: number
      average_power:
        type: number
      average_speed:
        type: number
      average_speed_no_pause:
        type: number
      distance:
        description: meters
        type: number
      duration:
        description: moving duration in seconds
        type: number
      end_index:
        type: integer
      is_best:
        type: boolean
      is_worst:
        type: boolean
      max_cadence:
        type: number
      max_elevation:
        type: number
      max_heart_rate:
        type: number
      max_power:
        type: number
      max_speed:
        type: number
      min_elevation:
        type: number
      start_index:
        type: integer
      total_down:
        type: number
      total_up:
        type: number
    type: object
  api.WorkoutBreakdownResponse:
    properties:
      items:
        items:
          $ref: '#/definitions/api.WorkoutBreakdownItemResponse'
        type: array
      mode:
        description: '"laps" or "unit"'
        type: string
    type: object
  api.WorkoutDetailResponse:
    properties:
      address_string:
        description: MapData fields (when available)
        type: string
      average_cadence:
        type: number
      average_heart_rate:
        type: number
      average_power:
        type: number
      average_speed:
        type: number
      average_speed_no_pause:
        type: number
      climbs:
        items:
          $ref: '#/definitions/api.ClimbSegmentResponse'
        type: array
      created_at:
        type: string
      custom_type:
        type: string
      date:
        type: string
      equipment:
        items:
          $ref: '#/definitions/api.EquipmentResponse'
        type: array
      has_file:
        type: boolean
      has_tracks:
        type: boolean
      id:
        type: integer
      laps:
        items:
          $ref: '#/definitions/api.WorkoutLapResponse'
        type: array
      locked:
        type: boolean
      map_data:
        $ref: '#/definitions/api.MapDataResponse'
      max_cadence:
        type: number
      max_elevation:
        type: number
      max_heart_rate:
        type: number
      max_power:
        type: number
      max_speed:
        type: number
      min_elevation:
        type: number
      name:
        type: string
      notes:
        type: string
      pause_duration:
        description: Duration in seconds
        type: integer
      public_uuid:
        type: string
      route_segment_matches:
        items:
          $ref: '#/definitions/api.RouteSegmentMatchResponse'
        type: array
      sub_type:
        type: string
      total_distance:
        type: number
      total_down:
        type: number
      total_duration:
        description: Duration in seconds
        type: integer
      total_repetitions:
        type: integer
      total_up:
        type: number
      total_weight:
        type: number
      type:
        type: string
      updated_at:
        type: string
      user:
        $ref: '#/definitions/api.UserProfileResponse'
      user_id:
        type: integer
    type: object
  api.WorkoutLapResponse:
    properties:
      average_cadence:
        type: number
      average_heart_rate:
        type: number
      average_power:
        type: number
      average_speed:
        type: number
      average_speed_no_pause:
        type: number
      max_cadence:
        type: number
      max_elevation:
        type: number
      max_heart_rate:
        type: number
      max_power:
        type: number
      max_speed:
        type: number
      min_elevation:
        type: number
      pause_duration:
        type: integer
      start:
        type: string
      stop:
        type: string
      total_distance:
        type: number
      total_down:
        type: number
      total_duration:
        type: integer
      total_up:
        type: number
    type: object
  api.WorkoutRangeStatsResponse:
    properties:
      average_cadence:
        type: number
      average_heart_rate:
        type: number
      average_power:
        type: number
      average_slope:
        type: number
      average_speed:
        type: number
      average_speed_no_pause:
        type: number
      average_temperature:
        type: number
      distance:
        type: number
      duration:
        type: number
      end_index:
        type: integer
      max_cadence:
        type: number
      max_elevation:
        type: number
      max_heart_rate:
        type: number
      max_power:
        type: number
      max_slope:
        type: number
      max_speed:
        type: number
      max_temperature:
        type: number
      min_cadence:
        type: number
      min_elevation:
        type: number
      min_heart_rate:
        type: number
      min_power:
        type: number
      min_slope:
        type: number
      min_speed:
        type: number
      min_temperature:
        type: number
      moving_duration:
        type: number
      pause_duration:
        type: number
      start_index:
        type: integer
      total_down:
        type: number
      total_up:
        type: number
      units:
        $ref: '#/definitions/api.WorkoutRangeStatsUnitsResponse'
    type: object
  api.WorkoutRangeStatsUnitsResponse:
    properties:
      distance:
        type: string
      elevation:
        type: string
      speed:
        type: string
      temperature:
        type: string
    type: object
  api.WorkoutRecordResponse:
    properties:
      active:
        type: boolean
      average_speed:
        $ref: '#/definitions/api.RecordResponse'
      average_speed_no_pause:
        $ref: '#/definitions/api.RecordResponse'
      distance:
        $ref: '#/definitions/api.RecordResponse'
      duration:
        $ref: '#/definitions/api.RecordResponse'
      max_speed:
        $ref: '#/definitions/api.RecordResponse'
      total_up:
        $ref: '#/definitions/api.RecordResponse'
      workout_type:
        type: string
    type: object
  api.WorkoutResponse:
    properties:
      address_string:
        description: MapData fields (when available)
        type: string
      average_cadence:
        type: number
      average_heart_rate:
        type: number
      average_power:
        type: number
      average_speed:
        type: number
      average_speed_no_pause:
        type: number
      created_at:
        type: string
      custom_type:
        type: string
      date:
        type: string
      has_file:
        type: boolean
      has_tracks:
        type: boolean
      id:
        type: integer
      locked:
        type: boolean
      max_cadence:
        type: number
      max_elevation:
        type: number
      max_heart_rate:
        type: number
      max_power:
        type: number
      max_speed:
        type: number
      min_elevation:
        type: number
      name:
        type: string
      notes:
        type: string
      pause_duration:
        description: Duration in seconds
        type: integer
      public_uuid:
        type: string
      sub_type:
        type: string
      total_distance:
        type: number
      total_down:
        type: number
      total_duration:
        description: Duration in seconds
        type: integer
      total_repetitions:
        type: integer
      total_up:
        type: number
      total_weight:
        type: number
      type:
        type: string
      updated_at:
        type: string
      user:
        $ref: '#/definitions/api.UserProfileResponse'
      user_id:
        type: integer
    type: object
  api.ZoneRangeResponse:
    properties:
      max:
        type: number
      min:
        type: number
      zone:
        type: integer
    type: object
  database.UserPreferredUnits:
    properties:
      distance:
        description: The user's preferred distance unit
        type: string
      elevation:
        description: The user's preferred elevation unit
        type: string
      height:
        description: The user's preferred height unit
        type: string
      speed:
        description: The user's preferred speed unit
        type: string
      weight:
        description: The user's preferred weight unit
        type: string
    type: object
  geojson.Feature:
    properties:
      bbox:
        items:
          type: number
        type: array
      geometry: {}
      id: {}
      properties:
        $ref: '#/definitions/geojson.Properties'
      type:
        type: string
    type: object
  geojson.FeatureCollection:
    properties:
      bbox:
        items:
          type: number
        type: array
      features:
        items:
          $ref: '#/definitions/geojson.Feature'
        type: array
      type:
        type: string
    type: object
  geojson.Properties:
    additionalProperties: true
    type: object
  map_string_string:
    additionalProperties:
      type: string
    type: object
info:
  contact: {}
  description: Workout Tracker HTTP API (v2).
  title: Workout Tracker API
  version: "2.0"
paths:
  /{id}:
    get:
      parameters:
      - description: Start date (YYYY-MM-DD)
        in: query
        name: start
        type: string
      - description: End date (YYYY-MM-DD, inclusive)
        in: query
        name: end
        type: string
      - description: User ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Response-array_api_WorkoutRecordResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/api.Response-any'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Get user profile by ID
      tags:
      - user
  /admin/config:
    put:
      consumes:
      - application/json
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Response-api_AppInfoResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/api.Response-any'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Update config (admin)
      tags:
      - admin
  /admin/users:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Response-array_api_UserProfileResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/api.Response-any'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: List users (admin)
      tags:
      - admin
  /admin/users/{id}:
    delete:
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Response-any'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/api.Response-any'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Delete user (admin)
      tags:
      - admin
    get:
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Response-api_UserProfileResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/api.Response-any'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Get user (admin)
      tags:
      - admin
    put:
      consumes:
      - application/json
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Response-api_UserProfileResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/api.Response-any'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Update user (admin)
      tags:
      - admin
  /app-info:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Response-api_AppInfoResponse'
      summary: Get application info
      tags:
      - meta
  /equipment:
    get:
      parameters:
      - description: Page
        in: query
        name: page
        type: integer
      - description: Items per page
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.PaginatedResponse-api_EquipmentResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/api.Response-any'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: List equipment
      tags:
      - equipment
    post:
      consumes:
      - application/json
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/api.Response-api_EquipmentResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/api.Response-any'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Create equipment
      tags:
      - equipment
  /equipment/{id}:
    delete:
      parameters:
      - description: Equipment ID
        in: path
        name: id
        required: true
        type: integer
      responses:
        "204":
          description: Deleted
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/api.Response-any'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Delete equipment
      tags:
      - equipment
    get:
      parameters:
      - description: Equipment ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Response-api_EquipmentResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Get equipment
      tags:
      - equipment
    put:
      consumes:
      - application/json
      parameters:
      - description: Equipment ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Response-api_EquipmentResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/api.Response-any'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/api.Response-any'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Update equipment
      tags:
      - equipment
  /lookup-address:
    post:
      parameters:
      - description: Free text address
        in: query
        name: location
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Response-array_string'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Lookup address
      tags:
      - lookup
  /measurements:
    get:
      parameters:
      - description: Page
        in: query
        name: page
        type: integer
      - description: Per page
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.PaginatedResponse-api_MeasurementResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/api.Response-any'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: List measurements
      tags:
      - measurements
    post:
      consumes:
      - application/json
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Response-api_MeasurementResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/api.Response-any'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Create or update measurement
      tags:
      - measurements
  /measurements/{date}:
    delete:
      parameters:
      - description: Date (YYYY-MM-DD)
        in: path
        name: date
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
          schema:
            type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/api.Response-any'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Delete measurement by date
      tags:
      - measurements
  /profile:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Response-api_UserProfileResponse'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Get profile
      tags:
      - profile
    put:
      consumes:
      - application/json
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Response-api_UserProfileResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/api.Response-any'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Update profile
      tags:
      - profile
  /profile/refresh-workouts:
    post:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Response-map_string_string'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Refresh all workouts
      tags:
      - profile
  /profile/reset-api-key:
    post:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Response-map_string_string'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Reset API key
      tags:
      - profile
  /profile/update-version:
    post:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: string
        "500":
          description: Internal Server Error
          schema:
            type: string
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Update app version
      tags:
      - profile
  /records:
    get:
      parameters:
      - description: Start date (YYYY-MM-DD)
        in: query
        name: start
        type: string
      - description: End date (YYYY-MM-DD, inclusive)
        in: query
        name: end
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Response-array_api_WorkoutRecordResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Get workout records
      tags:
      - user
  /route-segments:
    get:
      parameters:
      - description: Page
        in: query
        name: page
        type: integer
      - description: Items per page
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.PaginatedResponse-api_RouteSegmentResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/api.Response-any'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: List route segments
      tags:
      - route-segments
    post:
      consumes:
      - multipart/form-data
      parameters:
      - description: GPX file
        in: formData
        name: file
        required: true
        type: file
      - description: Notes
        in: formData
        name: notes
        type: string
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/api.Response-api_RouteSegmentsDetailResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/api.Response-any'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Create route segment
      tags:
      - route-segments
  /route-segments/{id}:
    delete:
      parameters:
      - description: Route segment ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Response-map_string_string'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/api.Response-any'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Delete route segment
      tags:
      - route-segments
    get:
      parameters:
      - description: Route segment ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Response-api_RouteSegmentDetailResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Get route segment
      tags:
      - route-segments
    put:
      consumes:
      - application/json
      parameters:
      - description: Route segment ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Response-api_RouteSegmentDetailResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/api.Response-any'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/api.Response-any'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Update route segment
      tags:
      - route-segments
  /route-segments/{id}/download:
    get:
      parameters:
      - description: Route segment ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/octet-stream
      responses:
        "200":
          description: binary GPX content
          schema:
            type: string
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Download route segment file
      tags:
      - route-segments
  /route-segments/{id}/matches:
    post:
      parameters:
      - description: Route segment ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Response-map_string_string'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/api.Response-any'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Find matching workouts
      tags:
      - route-segments
  /route-segments/{id}/refresh:
    post:
      parameters:
      - description: Route segment ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Response-map_string_string'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/api.Response-any'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Refresh route segment
      tags:
      - route-segments
  /statistics:
    get:
      parameters:
      - description: Relative start (e.g. '1 year')
        in: query
        name: since
        type: string
      - description: Aggregation period (day|week|month|year)
        in: query
        name: per
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Response-api_StatisticsResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/api.Response-any'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Get workout statistics
      tags:
      - statistics
  /totals:
    get:
      parameters:
      - description: Start date (YYYY-MM-DD)
        in: query
        name: start
        type: string
      - description: End date (YYYY-MM-DD, inclusive)
        in: query
        name: end
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Response-api_TotalsResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Get workout totals
      tags:
      - user
  /whoami:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Response-api_UserProfileResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Get current user profile
      tags:
      - user
  /workouts:
    get:
      parameters:
      - description: Page
        in: query
        name: page
        type: integer
      - description: Per page
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.PaginatedResponse-api_WorkoutResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/api.Response-any'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: List workouts
      tags:
      - workouts
    post:
      consumes:
      - multipart/form-data
      - application/json
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/api.Response-api_WorkoutResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/api.Response-any'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Create workout
      tags:
      - workouts
  /workouts/{id}:
    delete:
      parameters:
      - description: Workout ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Response-map_string_string'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/api.Response-any'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Delete workout
      tags:
      - workouts
    get:
      parameters:
      - description: Workout ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Response-api_WorkoutDetailResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/api.Response-any'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Get workout by ID
      tags:
      - workouts
    put:
      consumes:
      - application/json
      parameters:
      - description: Workout ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Response-api_WorkoutResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/api.Response-any'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Update workout
      tags:
      - workouts
  /workouts/{id}/breakdown:
    get:
      parameters:
      - description: Workout ID
        in: path
        name: id
        required: true
        type: integer
      - description: Unit
        in: query
        name: unit
        type: string
      - description: Count
        in: query
        name: count
        type: number
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Response-api_WorkoutBreakdownResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/api.Response-any'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Get workout breakdown
      tags:
      - workouts
  /workouts/{id}/download:
    get:
      parameters:
      - description: Workout ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/octet-stream
      responses:
        "200":
          description: binary workout file
          schema:
            type: string
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Download workout file
      tags:
      - workouts
  /workouts/{id}/refresh:
    post:
      parameters:
      - description: Workout ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Response-map_string_string'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Refresh workout
      tags:
      - workouts
  /workouts/{id}/route-segment:
    post:
      consumes:
      - application/json
      parameters:
      - description: Workout ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/api.Response-api_RouteSegmentDetailResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/api.Response-any'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Create route segment from workout
      tags:
      - route-segments
  /workouts/{id}/share:
    delete:
      parameters:
      - description: Workout ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Response-map_string_string'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Delete workout share link
      tags:
      - workouts
    post:
      parameters:
      - description: Workout ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Response-map_string_string'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Create or regenerate share link
      tags:
      - workouts
  /workouts/{id}/stats-range:
    get:
      parameters:
      - description: Workout ID
        in: path
        name: id
        required: true
        type: integer
      - description: Start point index (inclusive)
        in: query
        name: start_index
        type: integer
      - description: End point index (inclusive)
        in: query
        name: end_index
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Response-api_WorkoutRangeStatsResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/api.Response-any'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Get workout range statistics
      tags:
      - workouts
  /workouts/{id}/toggle-lock:
    post:
      parameters:
      - description: Workout ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Response-api_WorkoutResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/api.Response-any'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Toggle workout lock
      tags:
      - workouts
  /workouts/calendar:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Response-array_api_CalendarEventResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/api.Response-any'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Get workout calendar events
      tags:
      - workouts
  /workouts/centers:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Response-geojson_FeatureCollection'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Get workout centers
      tags:
      - heatmap
  /workouts/coordinates:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Response-geojson_FeatureCollection'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.Response-any'
      security:
      - ApiKeyAuth: []
      - ApiKeyQuery: []
      - CookieAuth: []
      summary: Get workout coordinates
      tags:
      - heatmap
  /workouts/public/{uuid}:
    get:
      parameters:
      - description: Public UUID
        in: path
        name: uuid
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Response-api_WorkoutDetailResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/api.Response-any'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/api.Response-any'
      summary: Get public workout
      tags:
      - workouts
  /workouts/recent:
    get:
      parameters:
      - description: Limit
        in: query
        name: limit
        type: integer
      - description: Offset
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/api.Response-array_api_WorkoutResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/api.Response-any'
      summary: List recent workouts
      tags:
      - workouts
securityDefinitions:
  ApiKeyAuth:
    in: header
    name: Authorization
    type: apiKey
  ApiKeyQuery:
    in: query
    name: api-key
    type: apiKey
  CookieAuth:
    in: header
    name: Cookie
    type: apiKey
swagger: "2.0"
